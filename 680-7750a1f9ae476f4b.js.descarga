(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{99838:function(e,n,t){"use strict";t.d(n,{I:function(){return ue}});var s=t(47568),a=t(26042),i=t(69396),l=t(10253),o=t(70655),r=t(85893),c=t(67294),u=t(11163),d=t(16494),m=t(14218),h=t(89677),x=t(33303),f=t(20033),g=t(68511),p=t(46665),b=t(15716),v=t(16351),j=t(295),y=t(49096),w=t(48609),N=t(27137),k=t(83476),C=t(28187),Z=t(43714),S=t(72510),F=t(74007);function B(e){var n=e.children,t=e.block,s=e.generating,a=e.onRegenerate,i=(0,c.useState)(!1),l=i[0],o=i[1],u=(0,x.ac)("(max-width: 767px)"),m=(0,Z.Z)().track,h=function(e){t.generating=!0,a(e),m("mars:block-regenerated",{type:t.type})};return(0,r.jsxs)("div",{className:"relative",onClick:function(){return u&&o((function(e){return!e}))},children:[(0,r.jsxs)("div",{className:(0,x.AK)("flex flex-col items-center justify-center gap-4 absolute z-90 bg-black bg-opacity-20 w-full h-full border-2 border-indigo-500 opacity-0 transition-all",(null===t||void 0===t?void 0:t.generating)&&"opacity-100",!s&&!u&&"hover:opacity-100",u&&!l&&"pointer-events-none",l&&"opacity-100"),children:[(null===t||void 0===t?void 0:t.generating)&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 px-4 py-3.5 rounded-lg bg-white shadow-md",children:[(0,r.jsx)(d.Z,{variant:"logo",className:"grayscale"}),(0,r.jsx)("span",{className:"font-sans font-medium text-gray-500 animate-pulse",children:"Generating"})]}),!s&&(0,r.jsxs)("div",{className:"flex items-center gap-1 p-2 bg-white rounded-lg shadow-md",children:[(0,r.jsxs)("button",{className:(0,x.AK)("flex items-center justify-center gap-2 w-full p-2 rounded-sm text-indigo-700 hover:bg-indigo-50 active:bg-indigo-100 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600",s&&"text-gray-400 pointer-events-none"),onClick:function(){return h("block")},children:[(0,r.jsx)(C.Z,{icon:"BoltIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-sans text-body font-medium",children:"Regenerate"})]}),(0,r.jsx)("div",{className:"h-full border-l-1 border-gray-300"}),(0,r.jsxs)(F.Z,{inline:!0,placementAlign:"start",buttonClassName:(0,x.AK)("flex items-center justify-center gap-2 w-full p-2 rounded-sm text-indigo-700 hover:bg-indigo-50 active:bg-indigo-100 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600",s&&"text-gray-400 pointer-events-none"),openClassName:"bg-indigo-100",itemsContainerClass:"gap-1 p-2",iconClassName:"text-indigo-700",icon:"ChevronDownSolidIcon",onOpen:function(e){return!u&&o(e)},children:[(0,r.jsxs)(S.v.Item,{as:"button",className:"flex items-center gap-3 w-full px-4 py-3 text-gray-600 rounded-sm hover:bg-gray-100 active:bg-gray-200",onClick:function(){return h("content")},children:[(0,r.jsx)(C.Z,{icon:"PencilSolidIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-sans text-body font-medium",children:"Content"})]}),(0,r.jsxs)(S.v.Item,{as:"button",className:"flex items-center gap-3 w-full px-4 py-3 text-gray-600 rounded-sm hover:bg-gray-100 active:bg-gray-200",onClick:function(){return h("style")},children:[(0,r.jsx)(C.Z,{icon:"PaintBrushSolidIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-sans text-body font-medium",children:"Style"})]}),(0,r.jsxs)(S.v.Item,{as:"button",className:"flex items-center gap-3 w-full px-4 py-3 text-gray-600 rounded-sm hover:bg-gray-100 active:bg-gray-200",onClick:function(){return h("block")},children:[(0,r.jsx)(C.Z,{icon:"BoltIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-sans text-body font-medium",children:"Entire section"})]})]})]})]}),n]})}var I=function(e){var n,t=e.websiteBuilt,s=e.website,a=e.mainRef,i=e.page,l=e.generating,o=e.onRegenerate,c=(0,x.ac)("(min-width: 1280px)"),u=(null===s||void 0===s?void 0:s.header)||{WebsiteBlock:{type:"header"}},d=(null===s||void 0===s?void 0:s.footer)||{WebsiteBlock:{type:"footer"}},C=function(e){if(e)switch(e.WebsiteBlock.type){case"banner":return(0,r.jsx)(f.Z,{block:e,website:s});case"hero":return(0,r.jsx)(g.Z,{block:e,website:s});case"quote":return(0,r.jsx)(p.Z,{block:e,website:s});case"gallery":return(0,r.jsx)(b.Z,{block:e,website:s});case"image":return(0,r.jsx)(k.Z,{block:e,website:s});case"video":return(0,r.jsx)(v.Z,{block:e,website:s});case"list":return(0,r.jsx)(j.Z,{block:e,website:s});case"text":return(0,r.jsx)(y.Z,{block:e,website:s});case"location":return(0,r.jsx)(w.Z,{block:e,website:s});case"contact":return(0,r.jsx)(N.Z,{block:e,website:s})}};return(0,r.jsxs)("main",{className:(0,x.AK)("group flex flex-col h-screen overflow-y-auto w-full scroll-smooth",!c&&"no-scrollbar"),style:(0,x.SV)(s),ref:a,children:[(0,r.jsx)(m.Z,{block:u,currentPage:null===i||void 0===i?void 0:i.id,website:s}),null===i||void 0===i||null===(n=i.blocks)||void 0===n?void 0:n.map((function(e,n){return t?C(e):(0,r.jsx)(B,{block:e,generating:l,onRegenerate:function(e){return o(n,e)},children:C(e)},n)})),(0,r.jsx)(h.Z,{block:d,currentPage:null===i||void 0===i?void 0:i.id,website:s})]})},A=t(60728),T=t(11355),R=t(37882),L=(t(39828),t(51121)),z=t(55272),E=t(16682),_=t(33299),W=t(52077),V=t(34853),K=t(41664),P=t.n(K),M=t(25675),O=t.n(M),q=t(73292),U=t(50899),G=t(19435),D=t(80360),H=["Unlimited regeneration","Website editing tools","Custom domain name","Stock images and icons","Website analytics","SEO tools","Website hosting","AI-powered promotions"];function Y(e){var n=e.marsWebsiteId,t=e.open,l=e.setOpen,u=e.error,d=e.language,m=e.location,h=e.variant,f=(0,x.ac)("(min-width: 768px)"),g=(0,c.useState)(!1),p=g[0],b=g[1],v=(0,c.useState)(""),j=v[0],y=v[1],w=(0,c.useState)(""),N=w[0],k=w[1],Z=(0,c.useState)({name:"United States",code:"US"}),S=Z[0],F=Z[1],B=(0,c.useState)(!0),I=B[0],A=B[1],K=(0,c.useState)(!1),M=K[0],Y=K[1],$=(0,c.useState)(u||null),J=$[0],Q=$[1],X=(0,E.Z)().post,ee=(0,q.Z)(),ne=ee.sendUserEvent,te=ee.getAffiliateInfos,se=c.createRef(),ae=(0,U.Z)({userLocationByIP:!0,provider:"mapbox"}).data,ie=function(){b(!0),se.current.execute()},le=function(){var e=(0,s.Z)((function(e){var t,s,l,r,c,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e?(se.current.reset(),j&&(0,x.oH)(j)&&N&&M&&S?[3,1]:(A(!1),b(!1),[3,3])):(b(!1),[2]);case 1:return s=te(),r=d||(null!==(l=null===(t=navigator.language)||void 0===t?void 0:t.substring(0,2))&&void 0!==l?l:"en"),[4,X("/user/mars-signup",(0,i.Z)((0,a.Z)({email:j,password:N,location:S,marsWebsiteId:n,captcha:e,phKey:(0,x.ej)("ph_uuid"),language:r},(null===s||void 0===s?void 0:s.id)&&{affiliate:s.id}),{completeLocation:ae,variant:h}),!1).catch(console.log)];case 2:(c=o.sent())&&!0===c.status?(u=c.content,sessionStorage.setItem("idBusiness",u._id),sessionStorage.setItem("businessName",u.name),ne("sign_up",{method:"email"}),(0,_.signIn)("login-user",{email:j,password:N,callbackUrl:"/website/builder",redirect:!1}).then((function(e){ne("login",{method:"email"}),e.ok&&200===e.status?window.top.location="durable.co"===window.location.host?"https://app.durable.co/website/builder":"".concat(window.location.protocol,"//").concat(window.location.host,"/website/builder"):b(!1)})).catch((function(e){b(!1)}))):(Q(c.message),b(!1)),o.label=3;case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),oe=function(){var e=(0,s.Z)((function(){return(0,o.__generator)(this,(function(e){return b(!0),window.top.location=("durable.co"===window.location.host?"https://app.durable.co/website-builder/signup":"".concat(window.location.protocol,"//").concat(window.location.host,"/website-builder/signup"))+"?w=".concat(n,"&country=").concat(JSON.stringify(S),"&variant=").concat(h),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){M&&j&&(0,x.oH)(j)&&A(!0)}),[M]),(0,c.useEffect)((function(){t&&("old"===h?m&&F(x.hW.find((function(e){var n,t,s,a;return(null===(n=e.code)||void 0===n?void 0:n.toLowerCase())===(null===(t=m.countryCode)||void 0===t?void 0:t.toLowerCase())||(null===(s=e.name)||void 0===s?void 0:s.toLowerCase())===(null===(a=m.country)||void 0===a?void 0:a.toLowerCase())}))):ae&&F({name:ae.country,code:ae.countryCode})),t||b(!1)}),[t,m,ae]),"old"===h?(0,r.jsx)(G.u,{title:"Sign up to customize your website",open:t,setOpen:l,children:(0,r.jsx)("div",{className:"flex md:max-w-4xl",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row md:divide-x divide-y md:divide-y-0 gap-6",children:[(0,r.jsxs)("div",{className:"flex-1 md:w-1/2",children:[J&&(0,r.jsx)("div",{className:"rounded-md w-full bg-yellow-50 p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(C.Z,{icon:"InformationCircleIcon",className:"h-5 w-5 text-yellow-800","aria-hidden":"true"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:J})})]})}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(D.Z,{label:"Country",inline:!f,hasFilter:!0,values:x.hW.map((function(e){return(0,i.Z)((0,a.Z)({},e),{id:e.code})})),value:S,onChange:function(e){return F(e)},error:!I&&!S&&"You must select your country"}),(0,r.jsx)("hr",{className:"!my-0"}),(0,r.jsxs)(W.Z,{className:"button light lg w-full",onClick:function(){return oe()},loading:p,disabled:!S,children:[(0,r.jsx)("div",{className:"w-5 h-5 relative mr-4 flex-none",children:(0,r.jsx)(O(),{unoptimized:!0,src:(0,x.sd)("google-logo.png"),layout:"fill",alt:"Google"})}),"Sign up with Google"]}),(0,r.jsxs)("div",{className:"w-full flex gap-3 items-center justify-center",children:[(0,r.jsx)("hr",{className:"w-full !my-0"}),(0,r.jsx)("div",{className:"flex-1 whitespace-nowrap text-center text-gray-500",children:"Or continue with"}),(0,r.jsx)("hr",{className:"w-full !my-0"})]}),(0,r.jsx)(L.Z,{label:"Email",error:j&&!(0,x.oH)(j)||!j&&!I?"You must provide a valid email":"",name:"email",type:"email",value:j,onChange:function(e){A((0,x.oH)(e)),y(e)}}),(0,r.jsx)(z.Z,{label:"Password",value:N,minStrength:3,thresholdLength:7,required:!0,helperText:"Password needs to be at least 8 characters long",errorText:!N&&!I&&"You must provide a password",onChange:function(e){return k(e)},onValid:function(e){return Y(e)}}),(0,r.jsx)(W.Z,{type:"submit",className:"primary lg w-full",disabled:p||!I||!M,loading:p,onClick:function(){return ie()},children:"Create your account"}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm text-center",children:['By clicking "Create your account" you agree to Durable\'s ',(0,r.jsx)(P(),{href:"https://durable.co/privacy-policy",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Privacy Policy"})})," and ",(0,r.jsx)(P(),{href:"https://durable.co/terms-of-service",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Terms of Service"})}),"."]})]}),(0,r.jsx)("div",{className:"invisible",children:(0,r.jsx)(V.Z,{ref:se,size:"invisible",sitekey:"6Leu0w4eAAAAAN0DPcebVt2LMLmRMOIocTcPheC0",onChange:le})})]})]}),(0,r.jsx)("div",{className:"flex-1 md:w-1/2 space-y-4 md:pl-6 pt-6 md:pt-0 text-gray-900",children:(0,r.jsx)("ul",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:H.map((function(e,n){return(0,r.jsxs)("li",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center bg-green-500 w-6 h-6 rounded-full",children:(0,r.jsx)(C.Z,{icon:"CheckSolidIcon",className:"text-white h-5 w-5"})}),(0,r.jsx)("span",{className:"font-semibold text-sm",children:e})]},"feature-".concat(n))}))})})]})})}):(0,r.jsx)(T.u.Root,{show:t,as:c.Fragment,children:(0,r.jsx)(R.V,{as:"div",className:"fixed z-100 md:inset-0 w-full md:w-auto overflow-hidden bottom-0",onClose:function(){return l(!1)},children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,r.jsx)(T.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(R.V.Overlay,{className:"fixed inset-0 bg-gray-900 bg-opacity-60 backdrop-blur-md transition-opacity"})}),(0,r.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)(T.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,r.jsxs)("div",{className:"inline-block align-middle w-full max-w-3xl bg-white rounded-t-2xl md:rounded-2xl md:my-8 text-left overflow-hidden shadow-2xl transform transition-all",children:[(0,r.jsxs)("div",{className:"flex items-center p-6 md:px-8 md:py-6 border-b border-gray-200",children:[(0,r.jsx)(R.V.Title,{className:"leading-6 font-semibold text-gray-900",children:"Sign up to customize your website"}),(0,r.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-600 ml-auto",onClick:function(){return l(!1)},children:(0,r.jsx)(C.Z,{icon:"XCircleSolidIcon",className:"h-5 w-5","aria-hidden":"true"})})]}),(0,r.jsxs)("div",{className:"p-6 md:px-8 md:py-6 overflow-y-auto max-h-[80vh]",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsxs)("div",{className:"w-full",children:[J&&(0,r.jsx)("div",{className:"rounded-md w-full bg-yellow-50 p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(C.Z,{icon:"InformationCircleIcon",className:"h-5 w-5 text-yellow-800","aria-hidden":"true"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:J})})]})}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)(W.Z,{className:"outlined w-full",onClick:function(){return oe()},loading:p,children:[(0,r.jsx)("div",{className:"w-5 h-5 relative mr-4 flex-none",children:(0,r.jsx)(O(),{unoptimized:!0,src:(0,x.sd)("google-logo.svg"),layout:"fill",alt:"Google"})}),(0,r.jsx)("span",{className:"font-semibold leading-6",children:"Sign up with Google"})]}),(0,r.jsxs)("div",{className:"w-full flex gap-3 items-center justify-center",children:[(0,r.jsx)("hr",{className:"w-full !my-0"}),(0,r.jsx)("div",{className:"flex-1 whitespace-nowrap text-center text-gray-500",children:"Or continue with"}),(0,r.jsx)("hr",{className:"w-full !my-0"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(L.Z,{placeholder:"Enter email address",inputClassName:"ceramic w-full !pl-11",iconClassName:"!left-[18px]",icon:(0,r.jsx)(C.Z,{icon:"MailIcon",className:"w-5 h-5 text-gray-500"}),error:j&&!(0,x.oH)(j)||!j&&!I?"You must provide a valid email":"",name:"email",type:"email",value:j,onChange:function(e){A((0,x.oH)(e)),y(e)}}),(0,r.jsx)(z.Z,{placeholder:"Password",inputClassName:"ceramic w-full !pl-11",iconClassName:"!left-[18px]",icon:!0,value:N,minStrength:3,thresholdLength:7,required:!0,helperText:"Password needs to be at least 8 characters long",errorText:!N&&!I&&"You must provide a password",onChange:function(e){return k(e)},onValid:function(e){return Y(e)}})]}),(0,r.jsx)(W.Z,{type:"submit",className:"contained w-full",disabled:p||!I||!M,loading:p,onClick:function(){return ie()},children:(0,r.jsx)("span",{className:"text-lg leading-6 font-semibold",children:"Create your account"})})]}),(0,r.jsx)("div",{className:"invisible",children:(0,r.jsx)(V.Z,{ref:se,size:"invisible",sitekey:"6Leu0w4eAAAAAN0DPcebVt2LMLmRMOIocTcPheC0",onChange:le})}),(0,r.jsxs)("div",{className:"md:hidden mt-4 text-gray-900 text-sm leading-5 lg:leading-4 font-medium text-center",children:['By clicking "Create your account" ',(0,r.jsx)("br",{}),"you agree to Durable's ",(0,r.jsx)(P(),{href:"https://durable.co/privacy-policy",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Privacy Policy"})}),(0,r.jsx)("br",{})," and ",(0,r.jsx)(P(),{href:"https://durable.co/terms-of-service",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Terms of Service"})}),"."]})]})]}),(0,r.jsx)("div",{className:"hidden md:block w-full md:max-w-70",children:(0,r.jsx)("ul",{className:"bg-gray-50 rounded-2xl p-6 space-y-4",children:H.map((function(e,n){return(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)(C.Z,{icon:"CheckCircleSolidIcon",className:"flex-shrink-0 h-6 w-6 text-gray-500"}),(0,r.jsx)("span",{className:"font-medium text-body leading-6",children:e})]},"feature-".concat(n))}))})})]}),(0,r.jsx)("div",{className:"hidden md:flex items-center justify-center mt-4",children:(0,r.jsxs)("div",{className:"max-w-sm text-gray-900 text-sm leading-5 font-medium text-center",children:['By clicking "Create your account" you agree to Durable\'s ',(0,r.jsx)(P(),{href:"https://durable.co/privacy-policy",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Privacy Policy"})})," and ",(0,r.jsx)(P(),{href:"https://durable.co/terms-of-service",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Terms of Service"})}),"."]})})]})]})})]})})})}var $=t(86067),J=t(83098),Q=t(93631),X=t(68039),ee=t(50246),ne=t(41817);function te(e){var n=e.open,t=e.setOpen,s=e.website,a=e.onConfirm,i=(0,c.useState)(""),l=i[0],o=i[1],u=(0,c.useState)(""),d=u[0],m=u[1],h=(0,c.useState)(""),f=h[0],g=h[1],p=(0,c.useState)(!1),b=p[0],v=p[1],j=(0,ee.Z)().data,y=function(){b?v(!1):a({name:d,location:f,vertical:l.name})};return(0,c.useEffect)((function(){(null===s||void 0===s?void 0:s.business)&&(o({name:s.business.vertical}),m(s.business.name),g(s.business.location))}),[s]),(0,r.jsx)(T.u.Root,{show:n,as:c.Fragment,children:(0,r.jsx)(R.V,{as:"div",className:"fixed z-100 md:inset-0 w-full md:w-auto overflow-hidden bottom-0",onClose:function(){return t(!1)},children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,r.jsx)(T.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(R.V.Overlay,{className:"fixed inset-0 bg-gray-900 bg-opacity-60 backdrop-blur-md transition-opacity"})}),(0,r.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)(T.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,r.jsxs)("div",{className:"inline-block align-middle w-full max-w-120 bg-white rounded-t-2xl md:rounded-2xl md:my-8 overflow-hidden shadow-2xl transform transition-all",children:[(0,r.jsx)(Q.Z,{mount:["map","bolt"],active:b?"map":"bolt"}),(0,r.jsxs)("div",{className:"pb-6 lg:pb-8 px-6 lg:px-8",children:[b?(0,r.jsxs)("div",{className:"group flex items-center gap-1 text-indigo-600 hover:text-indigo-900 cursor-pointer",onClick:function(){return v(!1)},children:[(0,r.jsx)(C.Z,{icon:"ArrowLeftSolidIcon",className:"inline w-5 h-5"}),(0,r.jsx)("span",{className:"text-body font-medium",children:"Back"})]}):(0,r.jsxs)("div",{className:"flex-1 flex flex-wrap items-center justify-center gap-1 text-body leading-5 lg:text-sm lg:leading-4",children:[(0,r.jsx)("span",{className:"font-medium",children:"Location"}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-indigo-600 hover:text-indigo-900 cursor-pointer",onClick:function(){return v(!0)},children:[(0,r.jsx)("span",{className:"font-medium whitespace-nowrap",children:f}),(0,r.jsx)(C.Z,{icon:"LocationMarkerIcon",className:"inline w-5 h-5"})]})]}),(0,r.jsx)("div",{className:"flex flex-col gap-4 my-6",children:b?(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-body leading-6 font-semibold text-gray-900 text-left mb-2",children:"Where is your business located?"}),(0,r.jsx)(X.Z,{isMars:!0,className:"w-full",icon:(0,r.jsx)(C.Z,{icon:"LocationMarkerIcon",className:"w-5 h-5"}),placeholder:"Enter location here",inlineAddress:f,onChange:function(e){return g(e)},fullScreenMobile:!0})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-body leading-6 font-semibold text-gray-900 text-left mb-2",children:"What type of business are you building?"}),(0,r.jsx)(ne.Z,{className:"w-full",inputClassName:"!pl-11 !pr-20 lg:!px-11",placeholder:"Landscaping, Photography...",values:j.map((function(e){return{id:e.id,name:e.name,aiTerm:e.aiTerm||e.name,queryTerm:e.queryTerm||e.name}})),value:l,icon:(0,r.jsx)(C.Z,{icon:"SearchIcon",className:"w-5 h-5"}),allowUnlistedValues:!0,showClear:!0,fullScreenMobile:!0,titleMobile:"Business Type",onChange:function(e){o({id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e?void 0:e.name,aiTerm:(null===e||void 0===e?void 0:e.aiTerm)||(null===e||void 0===e?void 0:e.name),queryTerm:(null===e||void 0===e?void 0:e.queryTerm)||(null===e||void 0===e?void 0:e.name)})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-body leading-6 font-semibold text-gray-900 text-left mb-2",children:"What is the name of your business?"}),(0,r.jsx)(L.Z,{inputClassName:"ceramic w-full !pl-11",iconClassName:"!left-[18px]",icon:(0,r.jsx)(C.Z,{icon:"BriefcaseIcon",className:"w-5 h-5"}),placeholder:"Enter your business name",value:d,onChange:function(e){return m(e)},onKeyUp:function(e){return"Enter"===e.key&&y()}})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col-reverse lg:flex-row justify-end gap-2",children:[!b&&(0,r.jsx)("button",{className:"outlined gap-2 lg:w-1/2",onClick:function(){return t(!1)},children:(0,r.jsx)("span",{className:"text-lg leading-6 font-semibold",children:"Cancel"})}),(0,r.jsxs)("button",{className:(0,x.AK)("contained gap-2 w-full",!b&&"lg:w-1/2"),disabled:b?!f:!l||!d||!f,onClick:y,children:[!b&&(0,r.jsx)(C.Z,{icon:"LightningBoltIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-lg leading-6 font-semibold",children:b?"Confirm":"Regenerate"})]})]})]})]})})]})})})}var se=t(49155),ae=t.n(se),ie=t(79454),le=function(e){var n=e.websiteBuilt,t=e.handleBack,s=e.buildStep,a=e.totalBuildSteps,i=e.previewWebsite,l=e.handleRebuild,o=e.setOpenSignUp,c=e.allowedFullRegenerate;return"old"===e.variant?(0,r.jsxs)("div",{className:"w-full flex items-center justify-between gap-4 p-6 relative bg-white shadow lg:shadow-none",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,r.jsx)("button",{className:"link",onClick:t,children:(0,r.jsx)(C.Z,{icon:"ChevronLeftIcon",className:"w-5 h-5 text-gray-500"})}),(0,r.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,r.jsx)("div",{className:"flex-shrink-0 relative w-8 h-6",children:(0,r.jsx)(O(),{unoptimized:!0,src:(0,x.sd)("durable-icon-primary.svg"),alt:"Durable checking",layout:"fill"})})})]}),s<=a&&(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,r.jsx)("span",{children:"Building your website"}),(0,r.jsx)(d.Z,{text:""})]}),s>a&&!i&&(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,r.jsx)("span",{className:"text-green-600",children:"Done"}),(0,r.jsx)(C.Z,{icon:"CheckIcon",className:"w-5 h-5 text-green-600"})]}),s>a&&i&&!n&&(0,r.jsxs)("div",{className:"flex items-center gap-3 -my-4",children:[(0,r.jsxs)("button",{className:"light gap-2 !px-2.5 lg:!px-4",onClick:function(){c?l():o(!0)},children:[(0,r.jsx)("span",{className:"hidden md:inline-block",children:"Regenerate"}),(0,r.jsx)(C.Z,{icon:"BoltIcon",className:"w-4 h-4"})]}),(0,r.jsx)("button",{onClick:function(){return o(!0)},className:"primary",children:"Customize"})]})]}):(0,r.jsxs)("div",{className:"relative z-50 flex items-center justify-between gap-4 w-full px-5 lg:px-8 py-4 lg:py-3 bg-white shadow",children:[(0,r.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,r.jsx)("div",{className:"inline-flex items-center gap-2 cursor-pointer",onClick:t,children:(0,r.jsx)("div",{className:"flex-shrink-0 relative w-8 lg:w-9 h-6 lg:h-7",children:(0,r.jsx)(O(),{unoptimized:!0,src:(0,x.sd)("durable-icon-primary.svg"),alt:"Durable checking",layout:"fill"})})})}),!n&&(0,r.jsxs)("div",{className:"hidden lg:flex items-center gap-3",children:[(0,r.jsxs)("button",{className:"outlined gap-1.5",disabled:!(s>a&&i),onClick:function(){c?l():o(!0)},children:[(0,r.jsx)(C.Z,{icon:"LightningBoltIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Regenerate"})]}),(0,r.jsxs)("button",{className:"contained gap-1.5",disabled:!(s>a&&i),onClick:function(){return o(!0)},children:[(0,r.jsx)(C.Z,{icon:"PaintBrushIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Customize"})]})]})]})},oe=function(e){var n=e.handleRebuild,t=e.setOpenSignUp,s=e.allowedFullRegenerate;return(0,r.jsxs)("div",{className:"relative z-50 grid grid-cols-2 lg:hidden items-center gap-2 w-full px-4 py-3 bg-white shadow",children:[(0,r.jsxs)("button",{className:"outlined gap-1.5",onClick:function(){s?n():t(!0)},children:[(0,r.jsx)(C.Z,{icon:"LightningBoltIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Regenerate"})]}),(0,r.jsxs)("button",{onClick:function(){return t(!0)},className:"contained gap-1.5",children:[(0,r.jsx)(C.Z,{icon:"PaintBrushIcon",className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Customize"})]})]})},re=function(){return(0,r.jsxs)("div",{className:"h-full w-full bg-gray-50 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-10 container mx-auto p-6",children:[(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-40",classNameChild:"!h-10"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-120",children:(0,r.jsxs)("div",{className:"container mx-auto z-10 my-12 lg:my-32 xl:my-40",children:[(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full md:w-2/3",classNameChild:"!h-40 mb-4"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full md:w-2/3",classNameChild:"!h-28 mb-6"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"mt-6 lg:mt-8 w-full md:w-40",classNameChild:"!h-16"})]})}),(0,r.jsxs)("div",{className:"container mx-auto py-12 lg:py-14 xl:py-20",children:[(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-40",classNameChild:"!h-10 mb-4 lg:mb-10"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"})]})]}),(0,r.jsx)("div",{className:"container mx-auto py-12 lg:py-14 xl:py-20",children:(0,r.jsxs)("div",{className:"max-w-5xl text-center mx-auto",children:[(0,r.jsx)(d.Z,{variant:"skeleton",className:"inline-block w-full",classNameChild:"!h-40 mb-4"}),(0,r.jsx)(d.Z,{variant:"skeleton",className:"inline-block w-40",classNameChild:"!h-10"})]})})]})},ce=function(e){var n=e.open,t=e.setPreviewWebsite,s=(e.websiteBuilt,e.getInstance),a=e.variant,i=(0,c.useState)(!1),l=i[0],o=i[1];(0,q.Z)().sendUserEvent;return(0,c.useEffect)((function(){n&&setTimeout((function(){o(!0),setTimeout((function(){t(!0)}),1500)}),100)}),[n]),"old"===a?(0,r.jsxs)("div",{className:"fixed inset-0 bg-black backdrop-blur-xs z-100 font-sans bg-opacity-20 flex flex-col items-center justify-center p-6",children:[(0,r.jsxs)("div",{className:"p-8 lg:px-12 bg-white bg-opacity-95 rounded-lg shadow-lg text-center",children:[(0,r.jsx)("p",{className:"text-h3 lg:text-h2 font-bold mb-6",children:"Your website is ready!"}),(0,r.jsx)("button",{className:"primary",onClick:function(){return t(!0)},children:"See it"})]}),(0,r.jsx)(ae(),{refConfetti:s,style:{position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0}})]}):(0,r.jsx)(T.u,{show:n,appear:!0,children:(0,r.jsx)(T.u.Child,{as:c.Fragment,leave:"transform transition-all duration-500",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,r.jsx)("div",{className:"fixed inset-0 z-100 flex flex-col items-center justify-center p-6 animate-radial",style:{backgroundImage:"radial-gradient(circle, #4C35DE 0%, #4C35DE 100%, transparent 100%)"},children:(0,r.jsxs)("div",{className:(0,x.AK)("text-center opacity-0 translate-y-20 transition duration-300",l&&"!translate-y-0 !opacity-100"),children:[(0,r.jsx)("div",{className:"relative w-36 h-36 mx-auto",children:(0,r.jsx)(O(),{src:(0,x.sd)("mars/browser-small.svg"),layout:"fill",objectFit:"cover",alt:"Durable"})}),(0,r.jsx)("p",{className:"text-4xl lg:text-5.5xl text-white font-bold",children:"Your website is ready!"})]})})})})},ue=function(e){var n,t,d=e.websiteBuilt,m=e.website,h=e.setWebsite,f=e.backLink,g=e.variant,p=(0,l.Z)((0,$.Z)("website.button",{}),2)[1],b=(0,c.useState)(null),v=b[0],j=b[1],y=(0,c.useState)([]),w=y[0],N=y[1],k=(0,c.useState)({}),C=k[0],S=k[1],F=(0,c.useState)(null),B=F[0],T=F[1],R=(0,c.useState)(7),L=R[0],z=R[1],_=(0,c.useState)(!1),W=_[0],V=_[1],K=(0,c.useState)(!1),P=(K[0],K[1]),M=(0,c.useState)([]),O=M[0],U=M[1],G=(0,c.useState)(null),D=G[0],H=G[1],Q=(0,c.useState)(!1),X=Q[0],ee=Q[1],ne=(0,c.useState)(null),se=ne[0],ae=ne[1],ue=(0,c.useState)({blocksRegeneratedCount:0,fullRegeneratedCount:0}),de=ue[0],me=ue[1],he=(0,c.useState)(!1),xe=he[0],fe=he[1],ge=(0,c.useRef)(null),pe=(0,c.useRef)(null),be=(0,c.useRef)(null),ve=(0,u.useRouter)(),je=(0,A.Z)(),ye=je.confirm,we=je.ConfirmDialog,Ne=(0,E.Z)(),ke=Ne.get,Ce=Ne.post,Ze=(0,J.Z)(m),Se=Ze.generateBlock,Fe=Ze.chooseTemplate,Be=Ze.generateLoadingLabel,Ie=Ze.baseTemplates,Ae=(0,Z.Z)().track,Te=(0,q.Z)().sendUserEvent,Re=ve.query,Le=Re.error,ze=Re.signup,Ee=Re.v,_e=(0,c.useState)(!(!Le&&!ze)),We=_e[0],Ve=_e[1],Ke=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,ke("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&U(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,s.Z)((function(){var e,n,t,s,a,i,l,r,c,u,d,m,h,x;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,ke("/website/get-fonts")];case 1:return(e=o.sent())&&!0===e.status&&e.content&&(n=e.content,t=[],(s=n.find((function(e){return"Roboto"===e.name})))&&(a=n.find((function(e){return"Poppins"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(a.name||s.name),head:s,body:a||s})),(s=n.find((function(e){return"Arvo"===e.name})))&&(i=n.find((function(e){return"Lato"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(i.name||s.name),head:s,body:i||s})),(s=n.find((function(e){return"Merriweather"===e.name})))&&(l=n.find((function(e){return"Mulish"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(l.name||s.name),head:s,body:l||s})),(s=n.find((function(e){return"Work Sans"===e.name})))&&(r=n.find((function(e){return"Open Sans"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(r.name||s.name),head:s,body:r||s})),(s=n.find((function(e){return"Oswald"===e.name})))&&(c=n.find((function(e){return"Quattrocento"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(c.name||s.name),head:s,body:c||s})),(s=n.find((function(e){return"Varela"===e.name})))&&(u=n.find((function(e){return"PT Sans"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(u.name||s.name),head:s,body:u||s})),(s=n.find((function(e){return"Ovo"===e.name})))&&(d=n.find((function(e){return"Quattrocento"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(d.name||s.name),head:s,body:d||s})),(s=n.find((function(e){return"Ubuntu"===e.name})))&&(m=n.find((function(e){return"Open Sans"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(m.name||s.name),head:s,body:m||s})),(s=n.find((function(e){return"Slabo 13px"===e.name})))&&(h=n.find((function(e){return"Lato"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(h.name||s.name),head:s,body:h||s})),(s=n.find((function(e){return"Rufina"===e.name})))&&(x=n.find((function(e){return"PT Serif"===e.name})),t.push({id:s._id,name:"".concat(s.name," + ").concat(x.name||s.name),head:s,body:x||s})),N(t)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=(0,s.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,Pe()];case 1:return n.sent(),[4,Ke()];case 2:return n.sent(),(0,x.Fs)("pages",[]),ee(!1),e?(ae(e._id),S(e.page),h(e),T(L+1),V(!0),H(e._id)):H(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,s.Z)((function(){var e,n,t,s,i,l,r,c,u,d,f,g,p,b,v,y,N,k,C,Z,S,F,B,I;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return d=["solid","solid","solid","solid","outline"],f=["left","left","center","full-center","full-center"],g=[0,8,8,8,8,8],p=["small","medium","large"],j("Picking a color palette..."),[4,Ce("/ai/generate-public",{prompt:"mars-pick-colors",stream:!1,variant:"better",data:{vertical:null===(e=m.business)||void 0===e?void 0:e.vertical,quantity:3}})];case 1:return b=o.sent(),(v=b.content)||(v=["#CCCCCC","#4330C0","#333333"]),v[0]||(v[0]="#CCCCCC"),v[1]||(v[1]="#4330C0"),v[2]||(v[2]="#333333"),(y=(0,x.kd)(w))||(y=w[0]),N=(0,x.jn)(v[0]),j("Choosing the best layout for your business..."),[4,Fe(null===(n=m.business)||void 0===n?void 0:n.vertical)];case 2:return(k=o.sent())&&z(k.blocks.length),C=(0,x.kd)(g),Z=C>0?(0,x.kd)(p):"no-rounded",(null===k||void 0===k||null===(t=k.header)||void 0===t||null===(s=t.button)||void 0===s?void 0:s.label)?[4,Ce("/ai/generate-public",{prompt:"mars-translate-term",stream:!1,variant:"better",data:{term:k.header.button.label},outputLanguage:(null===m||void 0===m||null===(S=m.business)||void 0===S?void 0:S.outputLanguage)||"en"})]:[3,4];case 3:B=o.sent(),k.header.button.label=(null===B||void 0===B||null===(F=B.content)||void 0===F?void 0:F.term)||k.header.button.label,o.label=4;case 4:return I={template:k,showLogo:!1,logo:null,darkTheme:N,primaryColor:v[0],secondaryColor:v[1],tertiaryColor:v[2],cornerRadius:Z,social:[{type:"facebook",link:"https://facebook.com"},{type:"instagram",link:"instagram.com"},{type:"twitter",link:"https://twitter.com"}],button:{background:v[1],style:(0,x.kd)(d),cornerRadius:C},fonts:{head:y.head,body:y.body},header:{siteName:null===(i=m.business)||void 0===i?void 0:i.name,showLogo:!1,source:"branding",customLogo:null,logoDesktop:{height:80},logoMobile:{height:40},showSocial:!0,background:v[0],fullWidth:Math.random()>.5,sticky:Math.random()>.5,style:(null===k||void 0===k||null===(l=k.header)||void 0===l?void 0:l.style)||(0,x.kd)(f),button:null===k||void 0===k||null===(r=k.header)||void 0===r?void 0:r.button},footer:{showLogo:!0,businessName:null===(c=m.business)||void 0===c?void 0:c.name,showSocial:!0,background:N?"#111111":"#ffffff",button:null,style:(null===k||void 0===k||null===(u=k.footer)||void 0===u?void 0:u.style)?(0,x.kd)(k.footer.style):"split-right"}},["template2","template3","template4"].includes(null===k||void 0===k?void 0:k.id)?I.footer.background=I.header.background:"template5"===(null===k||void 0===k?void 0:k.id)?I.footer.background=(0,x.iH)(I.primaryColor,70):I.footer.background=I.tertiaryColor,h((function(e){return(0,a.Z)({},e,I)})),T(1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),qe=function(e,n){"function"==typeof(null===be||void 0===be?void 0:be.current)&&(null===be||void 0===be||be.current((0,i.Z)((0,a.Z)({},n),{origin:{y:.7},particleCount:Math.floor(200*e)})))},Ue=function(){var e=(0,s.Z)((function(e,n,t,s){var a;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return d?[3,2]:(P(!0),[4,Ce("/marketing/save-mars-website",{website:e,page:n,originalId:t,action:s,variant:g}).catch((function(e){return console.log(e)}))]);case 1:return(a=i.sent())&&a.status&&a.content?(ae(a.content),P(!1),[2,a.content]):(x.Z9.error("Error creating a shareable link. Please try again."),P(!1),[2,null]);case 2:return[2,d._id];case 3:return[2]}}))}));return function(n,t,s,a){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,s.Z)((function(){var e,n,t,s,l,r,c,u,d,h,x,f,p,b,v,y,w,N,k,Z,F;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e=(null===C||void 0===C?void 0:C.blocks)||[],"string"===typeof(n=null===m||void 0===m?void 0:m.template)&&(n=Ie.find((function(e){return e.id===n}))),t=null===n||void 0===n?void 0:n.blocks[B-1],n&&t?[4,Be(t)]:[3,3];case 1:return j.apply(void 0,[o.sent()]),l=B-1,[4,Se({type:t.type,WebsiteBlock:O.find((function(e){return e.type===(null!==(s=t.block)&&void 0!==s?s:t.type)})),idx:B},t)];case 2:return e[l]=o.sent(),S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),[3,34];case 3:switch(o.trys.push([3,33,,34]),B){case 1:return[3,4];case 2:return[3,6];case 3:return[3,12];case 4:return[3,15];case 5:return[3,24];case 6:return[3,27];case 7:return[3,29]}return[3,32];case 4:return j("Generating a beautiful banner..."),r=0,[4,Se({type:"banner",WebsiteBlock:O.find((function(e){return"banner"===e.type})),idx:1})];case 5:return e[r]=o.sent(),S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),[3,32];case 6:return Math.random()>.3?Math.random()>.3?(j("Creating a gallery..."),c=1,[4,Se({type:"gallery",WebsiteBlock:O.find((function(e){return"gallery"===e.type})),idx:2})]):[3,8]:[3,11];case 7:return e[c]=o.sent(),[3,10];case 8:return j("Adding a beautiful picture..."),u=1,[4,Se({type:"image",WebsiteBlock:O.find((function(e){return"image"===e.type})),idx:2})];case 9:e[u]=o.sent(),o.label=10;case 10:S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),o.label=11;case 11:return[3,32];case 12:return Math.random()>.1?(j("Writing a positive testimonial..."),d=2,[4,Se({type:"quote",WebsiteBlock:O.find((function(e){return"quote"===e.type})),idx:3})]):[3,14];case 13:e[d]=o.sent(),S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),o.label=14;case 14:return[3,32];case 15:return j("Adding some services..."),Math.random()>.7?[4,Ce("/ai/generate-public",{prompt:"mars-generate-services",stream:!1,data:{quantity:3,vertical:null===(h=m.business)||void 0===h?void 0:h.vertical,location:null===(x=m.business)||void 0===x?void 0:x.location,name:null===(f=m.business)||void 0===f?void 0:f.name,tone:"Professional"}})]:[3,21];case 16:p=o.sent(),b=(b=p.content).slice(0,3),v=0,o.label=17;case 17:return v<b.length?(y=3+v,[4,Se({type:"service",WebsiteBlock:O.find((function(e){return"hero"===e.type})),idx:5},{image:{align:v%2===0?"left":"right"}})]):[3,20];case 18:e[y]=o.sent(),o.label=19;case 19:return v++,[3,17];case 20:return[3,23];case 21:return w=3,[4,Se({type:"services",WebsiteBlock:O.find((function(e){return"list"===e.type})),idx:5})];case 22:e[w]=o.sent(),e[4]=null,e[5]=null,o.label=23;case 23:return S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),[3,32];case 24:return Math.random()>.4?(j("Adding a map..."),N=6,[4,Se({type:"map",WebsiteBlock:O.find((function(e){return"location"===e.type})),idx:5})]):[3,26];case 25:e[N]=o.sent(),S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),o.label=26;case 26:return[3,32];case 27:return j("Adding a lead capture form..."),k=7,[4,Se({type:"contact",WebsiteBlock:O.find((function(e){return"contact"===e.type})),idx:6})];case 28:return e[k]=o.sent(),S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),[3,32];case 29:return Math.random()>.1?(j("Writing a paragraph about your business..."),Z=8,[4,Se({type:"about-us",WebsiteBlock:O.find((function(e){return"text"===e.type})),idx:7})]):[3,31];case 30:e[Z]=o.sent(),S((function(n){return(0,i.Z)((0,a.Z)({},n),{blocks:e})})),o.label=31;case 31:return[3,32];case 32:return[3,34];case 33:return o.sent(),[3,34];case 34:return B<=L?(T(B+1),[3,37]):[3,35];case 35:return"old"===g&&(qe(.25,{spread:26,startVelocity:55}),qe(.2,{spread:60}),qe(.35,{spread:100,decay:.91,scalar:.8}),qe(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),qe(.1,{spread:120,startVelocity:45})),[4,Ue(m,C,se,"generate")];case 36:F=o.sent(),Te("ai_website_complete"),0===de.fullRegeneratedCount&&Ae("mars:generate"),F&&H(F),o.label=37;case 37:return[2]}}))}));return function(){return e.apply(this,arguments)}}();function De(e){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)((function(e){return(0,o.__generator)(this,(function(n){return"old"===g?(Ae("mars:regenerate",{vertical:m.business.vertical}),h((function(e){return(0,i.Z)((0,a.Z)({},e),{business:(0,i.Z)((0,a.Z)({},e.business),{name:m.business.name,location:m.business.location,vertical:m.business.vertical,language:m.business.language})})}))):(fe(!1),Ae("mars:regenerate",{vertical:e.vertical}),h((function(n){return(0,i.Z)((0,a.Z)({},n),{business:(0,i.Z)((0,a.Z)({},n.business),{name:e.name,location:e.location,vertical:e.vertical})})}))),me((function(e){return(0,i.Z)((0,a.Z)({},e),{fullRegeneratedCount:e.fullRegeneratedCount+1})})),[2]}))}))).apply(this,arguments)}var Ye=function(){var e=(0,s.Z)((function(e,n){var t,s,l,r,c,u,d;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return de.blocksRegeneratedCount<10?(ee(!0),r=null===(t=m.template)||void 0===t?void 0:t.blocks[e],c=(0,x.p$)(C),[4,Se(c.blocks[e],r,n)]):[3,3];case 1:return delete(u=o.sent()).generating,c.blocks[e]=u,c.preventScroll=!0,S(c),ee(!1),[4,Ue(m,c,se,"regenerate-block:"+(null===u||void 0===u||null===(s=u.WebsiteBlock)||void 0===s?void 0:s.type))];case 2:return(d=o.sent())&&H(d),Ae("mars:regenerate-block",{blockType:(null===u||void 0===u||null===(l=u.WebsiteBlock)||void 0===l?void 0:l.type)||"Unknown"}),me((function(e){return(0,i.Z)((0,a.Z)({},e),{blocksRegeneratedCount:e.blocksRegeneratedCount+1})})),[3,4];case 3:delete C.blocks[e].generating,Ve(!0),o.label=4;case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){Me(d)}),[d]),(0,c.useEffect)((function(){if(!W){var e=setInterval((function(){B<=L&&(null===pe||void 0===pe?void 0:pe.current)&&pe.current.scrollTo(0,999999999)}),1e3);return function(){clearInterval(e)}}pe.current.scrollTo(0,0)}),[B,pe,W]),(0,c.useEffect)((function(){(null===O||void 0===O?void 0:O.length)&&m.business&&m.business.vertical&&m.business.location&&m.business.name&&!d&&(S({}),h((function(e){return{business:e.business}})),T(null),V(!1),H(null),Ve(!1),Oe())}),[null===O||void 0===O?void 0:O.length,m.business,h,d]),(0,c.useEffect)((function(){if(m){var e={background:m.secondaryColor,cornerRadius:8,style:"solid"};m.button?p((0,a.Z)({},e,m.button)):p(e)}}),[m]),(0,c.useEffect)((function(){(null===pe||void 0===pe?void 0:pe.current)&&!(null===C||void 0===C?void 0:C.preventScroll)&&pe.current.scrollTo(0,999999999)}),[C]),(0,c.useEffect)((function(){d||(B&&Ge(),(null===pe||void 0===pe?void 0:pe.current)&&pe.current.scrollTo(0,999999999))}),[B]),(0,c.useEffect)((function(){return W&&(de.blocksRegeneratedCount>0||de.fullRegeneratedCount>0)&&(ge.current&&clearTimeout(ge.current),ge.current=setTimeout((function(){Ve(!0)}),15e3)),function(){ge.current&&clearTimeout(ge.current)}}),[W,de]),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,r.jsx)(le,{websiteBuilt:d,handleBack:function(){d?window.location="/website-builder":ye("Exit website builder","Are you sure you want to go back? All content, images and styles will be lost.",(function(){window.location="old"===g?null!==f&&void 0!==f?f:"/website-builder?skipIntro=true&business=".concat(m.business.vertical,"&name=").concat(m.business.name).concat(Ee?"&v=".concat(Ee):""):"/website-builder?l=".concat(m.business.location,"&v=").concat(m.business.vertical,"&n=").concat(m.business.name,"&lang=").concat(m.business.outputLanguage)}),null)},buildStep:B,totalBuildSteps:L,previewWebsite:W,handleRebuild:function(){"old"===g?De():fe(!0)},setOpenSignUp:Ve,allowedFullRegenerate:de.fullRegeneratedCount<1,variant:g}),C&&m?(0,r.jsxs)(r.Fragment,{children:[B<=L&&(0,r.jsx)(ie.Z,{text:v,variant:g}),"old"===g&&(0,r.jsx)(r.Fragment,{children:B>L&&!W&&(0,r.jsx)(ce,{getInstance:function(e){be.current=e},setPreviewWebsite:V,websiteBuilt:d,variant:g})}),(0,r.jsx)(I,{websiteBuilt:d,website:m,mainRef:pe,page:C,generating:X,onRegenerate:Ye,allowedBlockRegenerate:de.blocksRegeneratedCount<10})]}):(0,r.jsx)(re,{}),B>L&&W&&!d&&"old"!==g&&(0,r.jsx)(oe,{handleRebuild:function(){return fe(!0)},setOpenSignUp:Ve,allowedFullRegenerate:de.fullRegeneratedCount<1}),(0,r.jsx)(we,{attention:!0,ceramic:"old"!==g,confirmText:"Exit builder"}),(0,r.jsx)(Y,{marsWebsiteId:D,location:null===m||void 0===m||null===(n=m.business)||void 0===n?void 0:n.location,language:(null===m||void 0===m||null===(t=m.business)||void 0===t?void 0:t.outputLanguage)||"en",open:We,setOpen:Ve,error:Le,variant:g}),"old"!==g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ce,{open:B>L&&!W&&!d,setPreviewWebsite:V,websiteBuilt:d}),(0,r.jsx)(te,{open:xe,setOpen:fe,website:m,onConfirm:De})]})]})}},93631:function(e,n,t){"use strict";var s=t(85893),a=t(67294),i=t(33303),l=t(25675),o=t.n(l);n.Z=function(e){var n=e.mount,t=e.active,l=(0,a.useState)(!1),r=l[0],c=l[1];return(0,a.useEffect)((function(){setTimeout((function(){c(!0)}),200)}),[]),(0,s.jsxs)("div",{className:(0,i.AK)("relative w-full h-45 lg:h-40 rounded-t-3xl lg:rounded-2xl overflow-hidden transition-all duration-500",("bolt"===t||"website"===t||"globe"===t)&&"!h-45"),children:["durable"===t||"website"===t||"browser"===t||"business"===t?(0,s.jsx)("div",{className:"absolute inset-0 z-20",style:{background:"radial-gradient(transparent 50%, #FFFFFF 90%), linear-gradient(transparent 70%, #FFFFFF 90%)"}}):(0,s.jsx)("div",{className:"absolute bottom-0 z-20 w-full h-8 bg-gradient-to-t from-white"}),n.includes("durable")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,i.AK)("absolute inset-0 w-full h-90 bg-indigo-50 animate-translate-wireframes opacity-0 transition-opacity duration-500","durable"===t&&"z-5 !opacity-60"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/wireframes.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name"})}),(0,s.jsx)("div",{className:(0,i.AK)("absolute top-8 left-1/2 w-30 h-32 -translate-x-1/2 translate-y-16 opacity-0 transition-all duration-500",r&&"durable"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/durable.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business map pin"})})]}),n.includes("map")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,i.AK)("absolute inset-0 w-full h-45 lg:h-40 opacity-0 transition-opacity duration-500","map"===t&&"z-5 !opacity-100"),style:{background:"radial-gradient(59.55% 78.44% at 50% 50%, #E4E0FF 0%, #FFFFFF 100%)"},children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/map.png"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business location"})}),(0,s.jsx)("div",{className:(0,i.AK)("absolute top-8 left-1/2 w-30 h-32 -translate-x-1/2 translate-y-16 opacity-0 transition-all duration-500",r&&"map"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/pin.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business map pin"})})]}),n.includes("bolt")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,i.AK)("absolute inset-0 w-full h-45 lg:h-45 opacity-0 transition-opacity duration-500","bolt"===t&&"z-5 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/waves.png"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name"})}),(0,s.jsx)("div",{className:(0,i.AK)("absolute top-8 left-1/2 w-30 h-32 -translate-x-1/2 translate-y-16 opacity-0 transition-all duration-500","bolt"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/bolt.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name bolt"})})]}),n.includes("globe")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,i.AK)("absolute inset-0 w-full h-45 lg:h-45 opacity-0 transition-opacity duration-500","globe"===t&&"z-5 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/world-map.png"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name"})}),(0,s.jsx)("div",{className:(0,i.AK)("absolute top-8 left-1/2 w-30 h-32 -translate-x-1/2 translate-y-16 opacity-0 transition-all duration-500","globe"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/globe.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name bolt"})})]}),(n.includes("business")||n.includes("website")||n.includes("browser"))&&(0,s.jsx)("div",{className:(0,i.AK)("absolute inset-0 w-full h-90 bg-indigo-50 animate-translate-blocks opacity-0 transition-opacity duration-500",["business","website","browser"].includes(t)&&"z-5 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/blocks.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name"})}),(n.includes("business")||n.includes("website"))&&(0,s.jsx)("div",{className:(0,i.AK)("absolute top-4 opacity-0 left-1/2 w-56 h-80 -translate-x-1/2 transition-all translate-y-16 duration-300",("business"===t||"website"===t)&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/browser.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name browser"})}),n.includes("business")&&(0,s.jsx)("div",{className:(0,i.AK)("absolute top-4 opacity-0 left-1/2 w-30 h-32 -translate-x-1/2 translate-y-16 transition-all duration-500","business"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/business.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name bolt"})}),n.includes("website")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,i.AK)("absolute top-16 left-[20%] opacity-0 w-30 h-32 translate-y-16 transition-all duration-500","website"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/video.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name video"})}),(0,s.jsx)("div",{className:(0,i.AK)("absolute top-24 left-[55%] opacity-0 w-30 h-20 translate-y-10 transition-all duration-500","website"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/testimonial.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name testimonial"})}),(0,s.jsx)("div",{className:(0,i.AK)("absolute top-4 left-[55%] opacity-0 w-22 h-22 translate-y-16 transition-all duration-500","website"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/image.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name testimonial"})})]}),n.includes("browser")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,i.AK)("absolute bottom-0 left-1/2 opacity-0 w-100 h-32 lg:h-28 -translate-x-1/2 translate-y-16 transition-all duration-500","browser"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/browser-large.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",objectPosition:"top",alt:"Business name testimonial"})}),(0,s.jsx)("div",{className:(0,i.AK)("absolute top-9 left-1/2 opacity-0 w-60 h-22 -translate-x-1/2 translate-y-10 transition-all duration-500","browser"===t&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(o(),{src:(0,i.sd)("mars/browser-bar.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Business name testimonial"})})]})]})}},30680:function(e,n,t){"use strict";t.d(n,{p:function(){return E}});var s=t(85893),a=t(67294),i=t(28187),l=t(51121),o=t(16494),r=t(11163),c=t(33303),u=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,l=e.location,r=(0,a.useState)(0),c=r[0],u=r[1];return n.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex gap-2 flex-wrap mb-2",children:n.slice(c,c+3).map((function(e){return(0,s.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("button",{className:"link sm flex gap-1 mt-4 items-center",onClick:function(){return u((function(e){var t=e+3;return t>=n.length?0:t}))},children:["See more ",(0,s.jsx)(i.Z,{icon:"RefreshIcon",className:"w-4 h-4"})]})}),(0,s.jsx)(d,{chooseVertical:t})]}):(0,s.jsx)(o.Z,{text:"Suggesting verticals in ".concat(l.inline,"...")})},d=function(e){var n=e.chooseVertical,t=(0,a.useState)(""),i=t[0],o=t[1],c=(0,r.useRouter)().query.business;return(0,a.useEffect)((function(){c&&o(c)}),[c]),(0,s.jsxs)("div",{className:"flex item-center gap-4",children:[(0,s.jsx)(l.Z,{className:"w-full",placeholder:"Have an idea? Enter it here",value:i,onChange:function(e){return o(e)}}),(0,s.jsx)("button",{className:"light",disabled:!i,onClick:function(){return n({name:i,aiTerm:i,queryTerm:i})},children:"Next"})]})},m=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-h5 font-bold mb-6",children:"Getting your location..."}),(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-2/3",classNameChild:"!h-12"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-12"})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,s.jsxs)("div",{className:"flex item-center gap-4",children:[(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]})]})]})},h=function(e){var n=e.suggestedNames,t=e.chooseName,l=(0,a.useState)(0),o=l[0],r=l[1];return(0,a.useEffect)((function(){r(0)}),[n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex gap-2 flex-wrap mb-2",children:n.slice(o,o+3).map((function(e,n){return(0,s.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:e},n)}))}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("button",{className:"link sm flex items-center gap-1 mt-4",onClick:function(){return r((function(e){var t=e+3;return t>=n.length?0:t}))},children:["See more ",(0,s.jsx)(i.Z,{icon:"RefreshIcon",className:"w-4 h-4"})]})})]})},x=function(e){var n=e.chooseName,t=(0,a.useState)(""),i=t[0],o=t[1],c=(0,r.useRouter)().query.name;return(0,a.useEffect)((function(){c&&o(c)}),[c]),(0,s.jsxs)("div",{className:"flex item-center gap-4",children:[(0,s.jsx)(l.Z,{className:"w-full",placeholder:"Have a name? Enter it here",value:i,onChange:function(e){return o(e)}}),(0,s.jsx)("button",{className:"secondary",disabled:!i,onClick:function(){return n(i)},children:"Next"})]})},f=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Generating really catchy business names..."}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2",children:[(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(o.Z,{variant:"text",className:"w-[100px] !my-0"})}),(0,s.jsxs)("div",{className:"flex item-center gap-4",children:[(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]})]})},g=t(80360),p=t(52077),b=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,l=e.showSuggestions,o=e.toggleSuggestions,u=e.location,d=(0,a.useState)(null),m=d[0],h=d[1],x=(0,r.useRouter)().query.business;return(0,a.useEffect)((function(){x&&h({id:-1,name:x})}),[x]),(0,s.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-6 transition-all duration-400",l?"translate-y-1/2 opacity-0 pointer-events-none":"translate-y-0 opacity-100"),children:[(0,s.jsx)("h2",{className:"text-h2 font-bold",children:"What type of business are you building?"}),(0,s.jsxs)("div",{className:"flex item-center gap-4",children:[(0,s.jsx)(g.Z,{values:n,autocomplete:!0,showSuggestions:!0,allowUnlistedValues:!0,icon:"SearchIcon",value:m,className:"w-full",placeholder:"Enter a business type",onChange:h,showNoResults:!1,showSelectorIcon:!1,showTypingAsOption:!0}),(0,s.jsx)(p.Z,{className:"primary",disabled:!(null===m||void 0===m?void 0:m.name)||!(null===u||void 0===u?void 0:u.inline),onClick:function(){return t({name:m.name,aiTerm:m.aiTerm||m.name,queryTerm:m.queryTerm||m.name})},children:"Next"})]}),(0,s.jsxs)("p",{children:["Not sure? ",(0,s.jsxs)("button",{className:"link disabled:text-gray-400",onClick:o,disabled:!u,children:["See some suggestions ",(0,s.jsx)(i.Z,{icon:"LightBulbIcon",className:"inline w-5 h-5 mb-1"})]})]})]})},v=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,l=e.location,r=e.showSuggestions,u=e.toggleSuggestions,d=(0,a.useState)(0),m=d[0],h=d[1];return(0,s.jsxs)("div",{className:(0,c.AK)("absolute flex flex-col gap-6 mb-6 transition-all duration-400",r?"translate-y-0 opacity-100":"translate-y-1/2 opacity-0 pointer-events-none"),children:[(0,s.jsx)("h2",{className:"text-h2 font-bold",children:"What type of business would you like to start?"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[n.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"Here are some suggestions"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:n.slice(m,m+3).map((function(e){return(0,s.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]}):(0,s.jsx)(o.Z,{text:"Suggesting verticals".concat((null===l||void 0===l?void 0:l.inline)?" in ".concat(l.inline):"","...")}),(0,s.jsxs)("div",{className:"flex gap-5 mt-2",children:[(0,s.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:u,children:[(0,s.jsx)(i.Z,{icon:"ArrowLeftIcon",className:"w-5 h-5"})," Pick my own"]}),(0,s.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:function(){return h((function(e){var t=e+3;return t>=n.length?0:t}))},children:[(0,s.jsx)(i.Z,{icon:"RefreshIcon",className:"w-5 h-5"})," See more"]})]})]})]})},j=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Generating really catchy business names..."}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2",children:[(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,s.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap mb-6",children:[(0,s.jsx)(o.Z,{variant:"text",className:"w-[100px] !my-0"}),(0,s.jsx)(o.Z,{variant:"text",className:"w-[100px] !my-0"})]})]})},y=function(e){var n=e.chooseName,t=e.showSuggestions,o=e.toggleSuggestions,u=(0,a.useState)(""),d=u[0],m=u[1],h=(0,r.useRouter)().query.name;return(0,a.useEffect)((function(){h&&m(h)}),[h]),(0,s.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-6 transition-all duration-400",t?"translate-y-1/2 opacity-0 pointer-events-none":"translate-y-0 opacity-100"),children:[(0,s.jsx)("h2",{className:"text-h2 font-bold",children:"What\u2019s the name of your business?"}),(0,s.jsxs)("div",{className:"flex item-center gap-4",children:[(0,s.jsx)(l.Z,{className:"w-full",placeholder:"Enter your business name",value:d,onChange:function(e){return m(e)}}),(0,s.jsx)(p.Z,{className:"primary",disabled:!d,onClick:function(){return n(d)},children:"Next"})]}),(0,s.jsxs)("p",{children:["Not sure? ",(0,s.jsxs)("span",{className:"link",onClick:o,children:["See some suggestions ",(0,s.jsx)(i.Z,{icon:"LightBulbIcon",className:"inline w-5 h-5 mb-1"})]})]})]})},w=function(e){var n=e.suggestedNames,t=e.chooseName,l=e.showSuggestions,o=e.toggleSuggestions,r=(0,a.useState)(0),u=r[0],d=r[1];return(0,a.useEffect)((function(){d(0)}),[n]),(0,s.jsx)("div",{className:(0,c.AK)("absolute flex flex-col gap-6 mb-6 transition-all duration-400",l?"translate-y-0 opacity-100":"translate-y-1/2 opacity-0 pointer-events-none"),children:(null===n||void 0===n?void 0:n.length)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-h2 font-bold",children:"What\u2019s the name of your business?"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{children:"Here are some suggestions"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:n.slice(u,u+3).map((function(e,n){return(0,s.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:e},n)}))}),(0,s.jsxs)("div",{className:"flex gap-5 mt-2",children:[(0,s.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:o,children:[(0,s.jsx)(i.Z,{icon:"ArrowLeftIcon",className:"w-5 h-5"})," Enter my own"]}),(0,s.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:function(){return d((function(e){var t=e+3;return t>=n.length?0:t}))},children:[(0,s.jsx)(i.Z,{icon:"RefreshIcon",className:"w-5 h-5"})," See more"]})]})]})]}):(0,s.jsx)(j,{})})},N=t(47568),k=t(70655),C=t(50899),Z=t(50246),S=t(43291),F=t(68039),B=function(e){var n=e.children;return(0,s.jsx)("div",{className:"flex flex-col gap-4 max-w-lg bg-indigo-600",children:n})},I=function(e){var n=e.location,t=e.setIsOpenChangeLocation;return n?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("p",{className:"flex flex-wrap items-center gap-1 text-label text-indigo-200 font-medium",children:["It looks like you're in",(0,s.jsxs)("span",{className:"flex items-center cursor-pointer text-white whitespace-nowrap",onClick:function(){return t(!0)},children:[n.inline," ",(0,s.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-4 h-4 ml-1.5"})]})]})}):(0,s.jsx)("p",{className:"text-label font-medium text-white",children:"Getting your location..."})},A=function(e){var n=e.setOpen,t=e.location,l=e.onSuccess,o=e.setAskUserLocation,r=e.isMobile,u=e.isLoadingLocation,d=(0,a.useState)(null),m=d[0],h=d[1],x=(0,a.useRef)(!0);return(0,a.useEffect)((function(){return o(!0),function(){return o(!1)}}),[]),(0,a.useEffect)((function(){t&&!x.current&&h(t.inline||"".concat(t.city).concat(t.regionCode?", "+t.regionCode:t.region?", "+t.region:"")),x.current&&(x.current=!1)}),[t]),(0,s.jsxs)(s.Fragment,{children:[u?(0,s.jsx)("p",{className:"text-label font-medium text-white",children:"Getting your location..."}):(0,s.jsx)(L,{onBack:function(){return n(!1)}}),(0,s.jsxs)("div",{className:(0,c.AK)("flex gap-3",r?"flex-col":"flex-row"),children:[F.Z&&(0,s.jsx)(F.Z,{inlineAddress:m,onChange:function(e){return h(e)},placeholder:"Enter the business location",fullWidth:!0,icon:(0,s.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-4 h-4 text-gray-700 ml-2"}),disabled:u,darkBackground:!0,btnClassName:"!py-5"}),(0,s.jsxs)(p.Z,{className:"flex gap-1 secondary !bg-indigo-50 !font-medium !p-5",disabled:u||!m,onClick:function(){n(!1),l(m)},children:["Save ",(0,s.jsx)(i.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})]})},T=function(e){var n=e.chooseVertical,t=e.location,l=e.isMobile,o=(0,Z.Z)().data,r=(0,a.useState)(null),u=r[0],d=r[1];return(0,s.jsxs)("div",{className:(0,c.AK)("flex gap-3",l?"flex-col":"flex-row"),children:[(0,s.jsx)(g.Z,{values:o,autocomplete:!0,showSuggestions:!0,allowUnlistedValues:!0,value:u,fullWidth:!0,placeholder:"Enter a business",onChange:d,showNoResults:!1,showSelectorIcon:!1,darkBackground:!0,btnClassName:"!pl-6 !py-5",showTypingAsOption:!0}),u&&""!==(null===u||void 0===u?void 0:u.name)&&(0,s.jsxs)(p.Z,{className:"flex gap-1 secondary !bg-indigo-50 !font-medium !p-5",disabled:!(null===u||void 0===u?void 0:u.name)||!(null===t||void 0===t?void 0:t.inline),onClick:function(){return n(u)},children:["Next ",(0,s.jsx)(i.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})},R=function(e){var n=e.businessName,t=e.setBusinessName,r=e.chooseName,u=e.vertical,d=e.location,m=e.isGenerating,h=e.setStep,x=e.isMobile,f=(0,a.useState)({}),g=f[0],b=f[1],v=(0,a.useState)(null),j=v[0],y=v[1],w=(0,S.Z)(g),C=w.data,Z=w.isLoading;function F(){return F=(0,N.Z)((function(){var e,n,t;return(0,k.__generator)(this,(function(s){return C&&j!==C.length-1&&(null===g||void 0===g||null===(e=g.payload)||void 0===e?void 0:e.vertical)===((null===u||void 0===u?void 0:u.aiTerm)||(null===u||void 0===u?void 0:u.name))?y((function(e){return e+1})):(b({action:"business-names",payload:{location:null===d||void 0===d?void 0:d.inline,language:null!==(t=null===(n=navigator.language)||void 0===n?void 0:n.substring(0,2))&&void 0!==t?t:"en",vertical:(null===u||void 0===u?void 0:u.aiTerm)||(null===u||void 0===u?void 0:u.name),quantity:12,fromHere:1}}),y(null)),[2]}))})),F.apply(this,arguments)}return(0,a.useEffect)((function(){C&&y(0)}),[C]),(0,a.useEffect)((function(){null!==j&&t(C[j])}),[j]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L,{onBack:function(){return h((function(e){return e-1}))}}),(0,s.jsxs)("div",{className:(0,c.AK)("flex gap-3",x?"flex-col":"flex-row"),children:[(0,s.jsxs)("div",{className:"w-full relative",children:[(0,s.jsx)(l.Z,{inputClassName:"w-full !pl-6 !pr-12 !py-5",placeholder:Z?"...":"Enter a business name",value:n,disabled:Z,onChange:function(e){return t(e)}}),(0,s.jsx)("div",{className:"flex absolute right-5 top-1/2 -translate-y-1/2 text-indigo-600",children:Z?(0,s.jsx)(o.Z,{variant:"icon",className:"inline w-4 h-4"}):n?(0,s.jsx)("button",{className:"flex",onClick:function(){return t("")},children:(0,s.jsx)(i.Z,{icon:"XCircleSolidIcon",className:"inline w-5 h-5 text-gray-400"})}):(0,s.jsxs)("button",{className:"flex gap-2 items-center font-medium",onClick:function(){return F.apply(this,arguments)},children:["Suggest ",(0,s.jsx)(i.Z,{icon:"BoltIcon",className:"inline w-4 h-4"})]})})]}),!!n&&(0,s.jsxs)(p.Z,{className:"flex gap-1 secondary whitespace-nowrap !bg-indigo-50 !font-medium !p-5",disabled:!n,onClick:r,loading:m,children:["Generate ",(0,s.jsx)(i.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})]})},L=function(e){var n=e.onBack;return(0,s.jsxs)("button",{className:"inline-flex items-center gap-2 link !text-white",onClick:n,children:[(0,s.jsx)(i.Z,{icon:"ArrowLeftIcon",className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-label",children:"Back"})]})},z=t(99838),E={V1:{NameChoice:function(e){var n=e.suggestedNames,t=e.chooseName;return(null===n||void 0===n?void 0:n.length)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"What do you want to name your business?"}),(0,s.jsx)(h,{suggestedNames:n,chooseName:t}),(0,s.jsx)(x,{chooseName:t})]}):(0,s.jsx)(f,{})},BusinessChoice:function(e){var n=e.location,t=e.suggestedVerticals,a=e.chooseVertical,l=e.setOpenChangeLocation;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-h5 font-bold mb-6 flex items-center flex-wrap gap-1",children:["It looks like you're in",(0,s.jsx)("u",{className:"cursor-pointer transition hover:text-indigo-600 whitespace-nowrap",onClick:function(){return l(!0)},children:n.inline}),(0,s.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-5 h-5"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Here are some great businesses to start there."}),(0,s.jsx)(u,{suggestedVerticals:(0,c.TV)((0,c.p$)(t)),chooseVertical:a,location:n})]})]}):(0,s.jsx)(m,{})}},V2:{NameChoice:function(e){var n=e.location,t=e.suggestedNames,i=e.chooseName,l=(0,a.useState)(!1),o=l[0],r=l[1],c=function(){return r(!o)};return(0,s.jsxs)("div",{className:"flex flex-col gap-6 relative",children:[(0,s.jsx)(w,{suggestedNames:t,chooseName:i,location:n,toggleSuggestions:c,showSuggestions:o}),(0,s.jsx)(y,{suggestedNames:t,chooseName:i,toggleSuggestions:c,showSuggestions:o})]})},BusinessChoice:function(e){var n=e.location,t=e.suggestedVerticals,l=e.chooseVertical,o=e.setOpenChangeLocation,r=(0,a.useState)(!1),u=r[0],d=r[1],m=function(){return d(!u)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-h5 font-bold mb-6 flex items-center flex-wrap gap-1",children:n?(0,s.jsxs)(s.Fragment,{children:["It looks like you're in",(0,s.jsx)("u",{className:"cursor-pointer transition hover:text-indigo-600 whitespace-nowrap",onClick:function(){return o(!0)},children:n.inline}),(0,s.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-5 h-5"})]}):"Getting your location..."}),(0,s.jsxs)("div",{className:"flex flex-col gap-6 relative",children:[(0,s.jsx)(v,{suggestedVerticals:(0,c.TV)((0,c.p$)(t)),chooseVertical:l,location:n,toggleSuggestions:m,showSuggestions:u}),(0,s.jsx)(b,{suggestedVerticals:t,chooseVertical:l,toggleSuggestions:m,showSuggestions:u,location:n})]})]})}},V3:{Form:function(){var e=(0,a.useState)(1),n=e[0],t=e[1],i=(0,a.useState)(null),l=i[0],o=i[1],u=(0,a.useState)(""),d=u[0],m=u[1],h=(0,a.useState)(!1),x=h[0],f=h[1],g=(0,a.useState)({}),p=g[0],b=g[1],v=(0,a.useState)(!1),j=v[0],y=v[1],w=(0,a.useState)(!1),N=w[0],k=w[1],Z=(0,a.useState)(!1),S=Z[0],F=Z[1],L=(0,C.Z)({userLocationByIP:!0,askUserLocation:N}),z=L.data,E=L.set,_=L.isLoading;(0,r.useRouter)();return(0,a.useEffect)((function(){F(window.screen.width<992)}),[]),(0,a.useEffect)((function(){if((null===p||void 0===p?void 0:p.business)&&l&&z){var e=encodeURIComponent(JSON.stringify({website:p,vertical:{name:null===l||void 0===l?void 0:l.name,queryTerm:null===l||void 0===l?void 0:l.queryTerm},location:z}));window.top.location="durable.co"===window.location.host?"https://app.durable.co/website-builder/builder?building=".concat(e):"".concat(window.location.protocol,"//").concat(window.location.host,"/website-builder/builder?building=").concat(e)}}),[p,l,z]),(0,s.jsxs)(B,{children:[j&&(0,s.jsx)(A,{setOpen:y,location:z,onSuccess:function(e){return E({inline:e})},setAskUserLocation:k,isLoadingLocation:_,isMobile:S}),(0,s.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-4 relative",1!==n||j?"hidden":"block"),children:[(0,s.jsx)(I,{location:z,setIsOpenChangeLocation:y}),(0,s.jsx)(T,{vertical:l,location:z,chooseVertical:function(e){o({name:e.name,aiTerm:e.aiTerm||e.name,queryTerm:e.queryTerm||e.name}),t(2)},isMobile:S})]}),(0,s.jsx)("div",{className:(0,c.AK)("flex flex-col gap-4",2===n?"block":"hidden"),children:(0,s.jsx)(R,{businessName:d,setBusinessName:m,chooseName:function(){var e,n;f(!0),b({business:{name:d,location:null===z||void 0===z?void 0:z.inline,vertical:(null===l||void 0===l?void 0:l.aiTerm)||(null===l||void 0===l?void 0:l.name),language:null!==(n=null===(e=navigator.language)||void 0===e?void 0:e.substring(0,2))&&void 0!==n?n:"en"}})},vertical:l,location:z,isGenerating:x,setStep:t,isMobile:S})})]})},Builder:function(e){var n=e.website,t=e.setWebsite,a=e.pictures,i=e.location;return(0,s.jsx)("div",{className:"fixed top-0 left-0 w-full h-full",children:(0,s.jsx)(z.I,{website:n,setWebsite:t,pictures:a,location:i,backLink:"https://durable.co"})})}}}},39828:function(){}}]);